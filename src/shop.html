<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Page</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-gray-100">
    <header class="bg-white/80 backdrop-blur-md shadow-lg rounded-b-2xl mb-8 sticky top-0 z-30 transition-all">
        <div class="max-w-7xl mx-auto flex justify-between items-center py-4 px-4 md:px-8">
            <div class="flex items-center gap-2">
                <img src="assets/logo.svg" alt="Shop Logo" class="h-8 w-8">
                <span class="text-2xl font-bold text-gray-800 tracking-wide">ElectroShop</span>
            </div>
            <nav>
                <ul class="flex gap-6 text-lg font-semibold items-center">
                    <li></li>
                    <li>
                        <button id="open-cart" class="cart-link flex items-center gap-1 bg-transparent border-none cursor-pointer text-gray-700 hover:text-primary transition-colors focus:outline-none">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35 2.7A1 1 0 007.5 17h9a1 1 0 00.85-1.53L17 13M7 13V6a1 1 0 011-1h5a1 1 0 011 1v7" />
                            </svg>
                            <span class="hidden sm:inline">Cart</span>
                        </button>
                    </li>
                </ul>
            </nav>  
        </div>
    </header>

    <section class="hero">
        <h1>Welcome to Our Shop</h1>
        <p>Discover the best products at unbeatable prices!</p>
    </section>

    <main>
        <section class="product-listing grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 px-4">   
            <!-- Product cards will be dynamically generated by products.js -->
        </section>

        <aside class="cart-sidebar">
            <h2>Shopping Cart</h2>
            <ul id="cart-items">
                <!-- Cart items will be dynamically added here -->
            </ul>
            <p>Total: <span id="total-price">$0.00</span></p>
            <button id="checkout">Checkout</button>
        </aside>
    </main>

    <footer>
        <p>&copy; 2023 Your Shop Name. All rights reserved.</p>
    </footer>   

    <script src="js/products.js"></script>
    <script src="js/cart.js"></script>
    <script>
    // Cart sidebar toggle logic
    document.addEventListener('DOMContentLoaded', function () {
        const openCartBtn = document.getElementById('open-cart');
        const cartSidebar = document.querySelector('.cart-sidebar');
        // Add a close button to the sidebar if not present
        if (cartSidebar && !cartSidebar.querySelector('.close-cart')) {
            const closeBtn = document.createElement('button');
            closeBtn.textContent = 'Ã—';
            closeBtn.className = 'close-cart text-2xl absolute top-4 right-6 bg-transparent border-none cursor-pointer';
            closeBtn.onclick = () => cartSidebar.style.display = 'none';
            cartSidebar.style.position = 'fixed';
            cartSidebar.style.top = '0';
            cartSidebar.style.right = '0';
            cartSidebar.style.zIndex = '1000';
            cartSidebar.prepend(closeBtn);
        }
        if (openCartBtn && cartSidebar) {
            openCartBtn.addEventListener('click', function () {
                cartSidebar.style.display = 'block';
            });
        }
        // Hide cart sidebar when clicking outside or pressing Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') cartSidebar.style.display = 'none';
        });
        document.addEventListener('mousedown', function(e) {
            if (cartSidebar.style.display === 'block' && !cartSidebar.contains(e.target) && e.target !== openCartBtn) {
                cartSidebar.style.display = 'none';
            }
        });
    });
    </script>
</body>
</html>